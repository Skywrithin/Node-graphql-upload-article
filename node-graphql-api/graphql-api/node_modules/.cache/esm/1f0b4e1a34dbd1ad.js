let express,ApolloServer,gql,Query,Mutation;_34d‍.w("express",[["default",["express"],function(v){express=v}]]);_34d‍.w("apollo-server-express",[["ApolloServer",["ApolloServer"],function(v){ApolloServer=v}],["gql",["gql"],function(v){gql=v}]]);_34d‍.w("./schema/resolvers",[["Query",["Query"],function(v){Query=v}],["Mutation",["Mutation"],function(v){Mutation=v}]]);



// The GraphQL schema in string form
const typeDefs = `
  type User {
    id: Int!
    username: String!
    email: String!
    imageuri: String!
  }

  type Query { 
    books: [Book]   
    getUser  : User
  }

  type Mutation { 
    createUser ( 
      username : String!
      email : String!
     ) : User

    updateUser (id : Int!)   : User
    deleteUser (id : Int!) : User
   }
`;

// The resolvers
const resolvers = {
  Query: Query,
  Mutation: Mutation,
};

// Put together a schema
const server = new ApolloServer({
  typeDefs,
  resolvers,
});

// Initialize the app
const app = express();
const route = "graphql";

server.applyMiddleware({ app, route });

// Start the server
app.listen(3000, () => {
  console.log("Go to http://localhost:3000/graphql to run queries!");
});
